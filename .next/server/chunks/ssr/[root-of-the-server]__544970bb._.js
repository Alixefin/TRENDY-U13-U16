module.exports = {

"[project]/.next-internal/server/app/(user)/matches/page/actions.js [app-rsc] (server actions loader, ecmascript)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
}}),
"[project]/src/app/favicon.ico.mjs { IMAGE => \"[project]/src/app/favicon.ico (static in ecmascript)\" } [app-rsc] (structured image object, ecmascript, Next.js server component)": ((__turbopack_context__) => {

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/favicon.ico.mjs { IMAGE => \"[project]/src/app/favicon.ico (static in ecmascript)\" } [app-rsc] (structured image object, ecmascript)"));
}}),
"[project]/src/app/layout.tsx [app-rsc] (ecmascript, Next.js server component)": ((__turbopack_context__) => {

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/layout.tsx [app-rsc] (ecmascript)"));
}}),
"[project]/src/app/(user)/layout.tsx [app-rsc] (ecmascript, Next.js server component)": ((__turbopack_context__) => {

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/(user)/layout.tsx [app-rsc] (ecmascript)"));
}}),
"[project]/src/components/user/matches/MatchesTabs.tsx (client reference/proxy) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "default": (()=>__TURBOPACK__default__export__)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge.js [app-rsc] (ecmascript)");
;
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call the default export of [project]/src/components/user/matches/MatchesTabs.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/components/user/matches/MatchesTabs.tsx <module evaluation>", "default");
}}),
"[project]/src/components/user/matches/MatchesTabs.tsx (client reference/proxy)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "default": (()=>__TURBOPACK__default__export__)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge.js [app-rsc] (ecmascript)");
;
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call the default export of [project]/src/components/user/matches/MatchesTabs.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/components/user/matches/MatchesTabs.tsx", "default");
}}),
"[project]/src/components/user/matches/MatchesTabs.tsx [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$user$2f$matches$2f$MatchesTabs$2e$tsx__$28$client__reference$2f$proxy$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/src/components/user/matches/MatchesTabs.tsx (client reference/proxy) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$user$2f$matches$2f$MatchesTabs$2e$tsx__$28$client__reference$2f$proxy$29$__ = __turbopack_context__.i("[project]/src/components/user/matches/MatchesTabs.tsx (client reference/proxy)");
;
__turbopack_context__.n(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$user$2f$matches$2f$MatchesTabs$2e$tsx__$28$client__reference$2f$proxy$29$__);
}}),
"[externals]/stream [external] (stream, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("stream", () => require("stream"));

module.exports = mod;
}}),
"[externals]/http [external] (http, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("http", () => require("http"));

module.exports = mod;
}}),
"[externals]/punycode [external] (punycode, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("punycode", () => require("punycode"));

module.exports = mod;
}}),
"[externals]/https [external] (https, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("https", () => require("https"));

module.exports = mod;
}}),
"[externals]/zlib [external] (zlib, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("zlib", () => require("zlib"));

module.exports = mod;
}}),
"[externals]/events [external] (events, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("events", () => require("events"));

module.exports = mod;
}}),
"[externals]/net [external] (net, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("net", () => require("net"));

module.exports = mod;
}}),
"[externals]/tls [external] (tls, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("tls", () => require("tls"));

module.exports = mod;
}}),
"[externals]/crypto [external] (crypto, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("crypto", () => require("crypto"));

module.exports = mod;
}}),
"[externals]/buffer [external] (buffer, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("buffer", () => require("buffer"));

module.exports = mod;
}}),
"[project]/src/lib/supabaseClient.ts [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "supabase": (()=>supabase)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$supabase$2f$supabase$2d$js$2f$dist$2f$module$2f$index$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@supabase/supabase-js/dist/module/index.js [app-rsc] (ecmascript) <locals>");
;
const supabaseUrl = ("TURBOPACK compile-time value", "https://twgynskokbnvbfdjywuj.supabase.co");
const supabaseAnonKey = ("TURBOPACK compile-time value", "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3Z3luc2tva2JudmJmZGp5d3VqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk5NDIxMDAsImV4cCI6MjA2NTUxODEwMH0.IL4vpIf18Rniaw3Ldn4ZkGOm2pDd1RLN5STnLtn5hgY");
if ("TURBOPACK compile-time falsy", 0) {
    "TURBOPACK unreachable";
} else {
    globalThis.supabaseClientInstance = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$supabase$2f$supabase$2d$js$2f$dist$2f$module$2f$index$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__["createClient"])(supabaseUrl, supabaseAnonKey);
}
const supabase = globalThis.supabaseClientInstance;
}}),
"[project]/src/lib/data.ts [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "getMatchById": (()=>getMatchById),
    "mockTournamentInfo": (()=>mockTournamentInfo),
    "placeholderTeamLogo": (()=>placeholderTeamLogo)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabaseClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/supabaseClient.ts [app-rsc] (ecmascript)");
;
const placeholderTeamLogo = (name)=>{
    const initials = name.length >= 2 ? name.substring(0, 2).toUpperCase() : name.substring(0, 1).toUpperCase() + (name.length > 1 ? name.substring(1, 1) : '');
    return `https://placehold.co/128x128/FFFFFF/50C878.png?text=${initials}&font=poppins`;
};
// Helper function to map Supabase team data (potentially with players) to local Team type
const mapSupabaseTeamToLocalUser = (supabaseTeam, players = [])=>{
    return {
        id: supabaseTeam.id,
        name: supabaseTeam.name,
        coachName: supabaseTeam.coach_name || 'N/A',
        logoUrl: supabaseTeam.logo_url || placeholderTeamLogo(supabaseTeam.name),
        players: players.map((p)=>({
                id: p.id,
                name: p.name,
                shirt_number: p.shirt_number,
                team_id: p.team_id,
                created_at: p.created_at
            }))
    };
};
const getMatchById = async (id)=>{
    const { data: matchData, error } = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabaseClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["supabase"].from('matches').select(`
      id,
      date_time,
      venue,
      status,
      score_a,
      score_b,
      events,
      lineup_a_player_ids,
      lineup_b_player_ids,
      teamA:team_a_id (id, name, logo_url, coach_name, players (id, name, shirt_number, team_id, created_at)),
      teamB:team_b_id (id, name, logo_url, coach_name, players (id, name, shirt_number, team_id, created_at))
    `).eq('id', id).single();
    if (error) {
        console.error(`Error fetching match by ID (${id}):`, error.message);
        if (error.code === 'PGRST116') return null; // PostgREST error for "JSON object requested, multiple (or no) rows returned"
        return undefined; // Other errors
    }
    if (!matchData) return null;
    // Type assertion for teamA and teamB based on the select query structure
    const teamARaw = matchData.teamA;
    const teamBRaw = matchData.teamB;
    const teamA = teamARaw ? mapSupabaseTeamToLocalUser(teamARaw, teamARaw.players || []) : {
        id: 'unknownA',
        name: 'Unknown Team A',
        logoUrl: placeholderTeamLogo('?'),
        coachName: 'N/A',
        players: []
    };
    const teamB = teamBRaw ? mapSupabaseTeamToLocalUser(teamBRaw, teamBRaw.players || []) : {
        id: 'unknownB',
        name: 'Unknown Team B',
        logoUrl: placeholderTeamLogo('?'),
        coachName: 'N/A',
        players: []
    };
    // Determine lineups
    let lineupA = [];
    if (matchData.lineup_a_player_ids && teamA.players.length > 0) {
        const lineupIds = new Set(matchData.lineup_a_player_ids);
        lineupA = teamA.players.filter((p)=>lineupIds.has(p.id));
    } else if (teamA.players.length > 0) {
    // Fallback lineup if specific IDs not provided or players not fetched properly
    // lineupA = teamA.players.slice(0, 11);
    }
    let lineupB = [];
    if (matchData.lineup_b_player_ids && teamB.players.length > 0) {
        const lineupIds = new Set(matchData.lineup_b_player_ids);
        lineupB = teamB.players.filter((p)=>lineupIds.has(p.id));
    } else if (teamB.players.length > 0) {
    // lineupB = teamB.players.slice(0, 11);
    }
    return {
        id: matchData.id,
        teamA,
        teamB,
        dateTime: new Date(matchData.date_time),
        venue: matchData.venue || 'N/A',
        status: matchData.status,
        scoreA: matchData.score_a ?? undefined,
        scoreB: matchData.score_b ?? undefined,
        events: matchData.events || [],
        lineupA,
        lineupB
    };
};
const mockTournamentInfo = {
    id: 1,
    name: "Tournament Tracker (Fallback)",
    logoUrl: placeholderTeamLogo('TT'),
    about: "Fallback tournament description. Configure in admin panel.",
    knockoutImageUrl: `https://placehold.co/800x500/F0FAF4/50C878.png?text=Knockout+Diagram&font=poppins`
};
}}),
"[project]/src/app/(user)/matches/page.tsx [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "default": (()=>MatchesPage),
    "metadata": (()=>metadata)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$user$2f$matches$2f$MatchesTabs$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/user/matches/MatchesTabs.tsx [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabaseClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/supabaseClient.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$data$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/data.ts [app-rsc] (ecmascript)");
;
;
;
;
const metadata = {
    title: "Matches | Trendy's Tournament Tracker",
    description: "View all scheduled, live, and completed matches."
};
const mapSupabaseTeamToLocalForUser = (supabaseTeam, players = [])=>{
    return {
        id: supabaseTeam.id,
        name: supabaseTeam.name,
        coachName: supabaseTeam.coach_name || 'N/A',
        logoUrl: supabaseTeam.logo_url || (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$data$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["placeholderTeamLogo"])(supabaseTeam.name),
        players: players
    };
};
const mapFetchedMatchToLocalMatch = (fetchedMatch)=>{
    // Directly use fetched team objects which should have players if selected correctly
    const teamA = fetchedMatch.teamA ? mapSupabaseTeamToLocalUser(fetchedMatch.teamA, fetchedMatch.teamA.players || []) : {
        id: 'unknownA',
        name: 'Unknown Team A',
        logoUrl: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$data$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["placeholderTeamLogo"])('?'),
        coachName: 'N/A',
        players: []
    };
    const teamB = fetchedMatch.teamB ? mapSupabaseTeamToLocalUser(fetchedMatch.teamB, fetchedMatch.teamB.players || []) : {
        id: 'unknownB',
        name: 'Unknown Team B',
        logoUrl: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$data$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["placeholderTeamLogo"])('?'),
        coachName: 'N/A',
        players: []
    };
    return {
        id: fetchedMatch.id,
        teamA: teamA,
        teamB: teamB,
        dateTime: new Date(fetchedMatch.date_time),
        venue: fetchedMatch.venue || 'N/A',
        status: fetchedMatch.status,
        scoreA: fetchedMatch.score_a ?? undefined,
        scoreB: fetchedMatch.score_b ?? undefined,
        events: fetchedMatch.events || [],
        lineupA: fetchedMatch.lineup_a_player_ids && teamA.players.length > 0 ? teamA.players.filter((p)=>fetchedMatch.lineup_a_player_ids.includes(p.id)) : (teamA.players || []).slice(0, 11),
        lineupB: fetchedMatch.lineup_b_player_ids && teamB.players.length > 0 ? teamB.players.filter((p)=>fetchedMatch.lineup_b_player_ids.includes(p.id)) : (teamB.players || []).slice(0, 11)
    };
};
async function getMatchesForUserPage() {
    const { data: matchesData, error: matchesError } = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabaseClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["supabase"].from('matches').select(`
      id,
      date_time,
      venue,
      status,
      score_a,
      score_b,
      events,
      lineup_a_player_ids,
      lineup_b_player_ids,
      teamA:team_a_id (id, name, logo_url, coach_name),
      teamB:team_b_id (id, name, logo_url, coach_name)
    `).order('date_time', {
        ascending: false
    });
    if (matchesError) {
        console.error("Error fetching matches for user page:", matchesError.message);
        return []; // Return empty array on error
    }
    if (!matchesData) return [];
    // Map Supabase data to our local Match[] type
    return matchesData.map((m)=>{
        const teamA = m.teamA ? mapSupabaseTeamToLocalForUser(m.teamA) : {
            id: 'unknownA',
            name: 'Unknown Team A',
            logoUrl: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$data$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["placeholderTeamLogo"])('UA'),
            coachName: '',
            players: []
        };
        const teamB = m.teamB ? mapSupabaseTeamToLocalForUser(m.teamB) : {
            id: 'unknownB',
            name: 'Unknown Team B',
            logoUrl: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$data$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["placeholderTeamLogo"])('UB'),
            coachName: '',
            players: []
        };
        return {
            id: m.id,
            teamA,
            teamB,
            dateTime: new Date(m.date_time),
            venue: m.venue || 'N/A',
            status: m.status,
            scoreA: m.score_a ?? undefined,
            scoreB: m.score_b ?? undefined,
            events: m.events || [],
            // Lineups would typically be fetched on demand for a specific match or if small enough, included here
            // For now, we're keeping lineups simpler for the match list view
            lineupA: [],
            lineupB: []
        };
    });
}
async function MatchesPage() {
    const matches = await getMatchesForUserPage();
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$user$2f$matches$2f$MatchesTabs$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"], {
        matches: matches
    }, void 0, false, {
        fileName: "[project]/src/app/(user)/matches/page.tsx",
        lineNumber: 106,
        columnNumber: 5
    }, this);
}
}}),
"[project]/src/app/(user)/matches/page.tsx [app-rsc] (ecmascript, Next.js server component)": ((__turbopack_context__) => {

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/(user)/matches/page.tsx [app-rsc] (ecmascript)"));
}}),

};

//# sourceMappingURL=%5Broot-of-the-server%5D__544970bb._.js.map